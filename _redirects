# _redirects - make-avis.com
# Keep server-side redirects minimal to avoid crawler loops. Language auto-detect is handled client-side in /main.js.

# Canonical domain & HTTPS
http://make-avis.com/*           https://make-avis.com/:splat      301!
http://www.make-avis.com/*      https://make-avis.com/:splat      301!
https://www.make-avis.com/*      https://make-avis.com/:splat      301!

# Canonicalize index files
/index.html                      /                                 301
/en/index.html                   /en/                              301

# Canonicalize .html -> pretty paths (FR)
/blog.html                       /blog                             301
/blog.html/                      /blog                             301
/blog-1.html                     /blog-1                           301
/blog-1.html/                    /blog-1                           301
/mentions-legales.html           /mentions-legales                 301
/mentions-legales.html/          /mentions-legales                 301
/politique-de-confidentialite.html /politique-de-confidentialite   301
/politique-de-confidentialite.html/ /politique-de-confidentialite  301
# Legacy typos/variants -> canonical
/politiques-de-confidentialite   /politique-de-confidentialite     301
/politiques-de-confidentialite/  /politique-de-confidentialite     301
/politique-de-confidentialite/*  /politique-de-confidentialite     301

# EN root with trailing slash
/en                              /en/                              301

# Canonicalize .html -> pretty paths (EN)
/en/blog.html                    /en/blog                          301
/en/blog.html/                   /en/blog                          301
/en/blog-1.html                  /en/blog-1                        301
/en/blog-1.html/                 /en/blog-1                        301
/en/legal-notice.html            /en/legal-notice                  301
/en/legal-notice.html/           /en/legal-notice                  301
/en/privacy-policy.html          /en/privacy-policy                301
/en/privacy-policy.html/         /en/privacy-policy                301
# Optional short alias
/en/legal                        /en/legal-notice                  301

# Explicit 404 fallback (non-SPA). Netlify will serve /404.html with 404 status.
# Keep this at the end so previous rules take precedence.
/*                               /404.html                         404
